<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Python packages, modules and import statements | Blog</title>
<meta name=keywords content="Python">
<meta name=description content="&#34;ModuleNotFoundError: No module named 'Monjiro' &#34;">
<meta name=author content="Sarthak Khattar">
<link rel=canonical href=https://m0mosenpai.com/posts/2_python_imports/python_imports/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.83c4eb6d61e6a4176992e4a4ce8786fc30bd40032ba8663ec5d11e285a965766.css integrity="sha256-g8TrbWHmpBdpkuSkzoeG/DC9QAMrqGY+xdEeKFqWV2Y=" rel="preload stylesheet" as=style>
<link rel=icon href=https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Python packages, modules and import statements">
<meta property="og:description" content="&#34;ModuleNotFoundError: No module named 'Monjiro' &#34;">
<meta property="og:type" content="article">
<meta property="og:url" content="https://m0mosenpai.com/posts/2_python_imports/python_imports/"><meta property="article:section" content="posts">
<meta property="og:site_name" content="m0mosenpai">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Python packages, modules and import statements">
<meta name=twitter:description content="&#34;ModuleNotFoundError: No module named 'Monjiro' &#34;">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://m0mosenpai.com/posts/"},{"@type":"ListItem","position":2,"name":"Python packages, modules and import statements","item":"https://m0mosenpai.com/posts/2_python_imports/python_imports/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python packages, modules and import statements","name":"Python packages, modules and import statements","description":"\"ModuleNotFoundError: No module named 'Monjiro' \"","keywords":["Python"],"articleBody":"A few weeks back, I interviewed for Deepsource as a Python Developer and they asked me this problem that piqued my interest a little. I felt like it was simple problem - one which seemed to have an obvious solution, yet something that might frustrate a lot of people just starting out with Python.\nLet’s go over the problem first. You can follow along by cloning the repo from here.\n In the following directory structure, file test_import.py is attempting to import a function import_me from import_me/utils/package. Upon running python test_import.py, you get the an error. Why does this happen and how will you solve it?\n Let’s run the file first and see what error we get exactly: Hmmm…\n“Oh, I know! There was this one time I found this StackOverflow answer that suggested me to use python -m instead of python and do this weird dot notation thing with the files. Well idk what any of this means, but it should work right?\" Hmmmmmmmm…\nSo what just happened?\nMy first thoughts after seeing the error were that it most likely had something to do with PYTHONPATH. That’s the environment variable Python uses to look for modules and packages. The path stored in that variable is considered the root and everything below it in the directory structure is accessible. Everything above it is not.\nEven if my hunch was correct, I needed a way to verify this. The interviewer suggested me to use the sys module and print out the contents of PYTHONPATH in both the cases.\nImporting sys and adding a print statement for sys.path, we can notice something interesting between the two cases: Well, my intuition was right.\nYou can execute Python files in 2 ways: either as scripts (python script.py) or as modules (python -m package.module.func). Scripts are generally meant to be run and do something whereas modules are created for the purpose of importing them into other files and using them as libraries.\nIn the first case, Python only knows about the directory the script ran from. This means anything above that directly is inaccessible. Whereas in the second case, since Python traversed recursively through packages, all the way from the root directory to find the module we wanted it to run, it’s aware of everything that lies below the root directory, and not just the directory the script ran from. This explains the ModuleNotFound perfectly.\nSo how do we fix this? We could simply run it as a module and call it a day.\nBut what if we really want to run the file as a script? Well then, how about adding the path of the root directory to PYTHONPATH? This should allow Python to see module despite the file being run a script. Let’s try it out: And there we go! We can see that our newly exported path indeed shows up in the environment and now Python is able to find the function easily.\nI’m not sure situations would arise where one would have to do this in a professional setting. But I do believe it’s a good way to explain the fundamental concept behind Python modules, packages and it’s import system. A neat explanation of these terms can be found over at Real Python, a website I highly recommend to everyone for learning Python.\nTill next time. ","wordCount":"554","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Sarthak Khattar"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://m0mosenpai.com/posts/2_python_imports/python_imports/"},"publisher":{"@type":"Organization","name":"Blog","logo":{"@type":"ImageObject","url":"https://m0mosenpai.com/%3Clink%20/%20abs%20url%3E"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://m0mosenpai.com/ accesskey=h title="0xMomo (Alt + H)">0xMomo</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://m0mosenpai.com/archives/ title=archive>
<span>archive</span>
</a>
</li>
<li>
<a href=https://m0mosenpai.com/categories/ title=categories>
<span>categories</span>
</a>
</li>
<li>
<a href=https://m0mosenpai.com/tags/ title=tags>
<span>tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://m0mosenpai.com/>Home</a>&nbsp;»&nbsp;<a href=https://m0mosenpai.com/posts/>Posts</a></div>
<h1 class=post-title>
Python packages, modules and import statements
</h1>
<div class=post-description>
"ModuleNotFoundError: No module named 'Monjiro' "
</div>
<div class=post-meta>October 11, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Sarthak Khattar
</div>
</header>
<div class=post-content><p>A few weeks back, I interviewed for <a href=https://deepsource.io/>Deepsource</a> as a Python Developer and they asked me this problem that piqued my interest a little. I felt like it was simple problem - one which seemed to have an obvious solution, yet something that might frustrate a lot of people just starting out with Python.</p>
<p>Let&rsquo;s go over the problem first. You can follow along by cloning the repo from <a href=https://github.com/srijan-deepsource/import-me>here</a>.</p>
<p><img loading=lazy src=/static/2_python_imports/tree.png alt=tree>
</p>
<blockquote>
<p><em>In the following directory structure, file <code>test_import.py</code> is attempting to import a function <code>import_me</code> from <code>import_me/utils/package</code>. Upon running <code>python test_import.py</code>, you get the an error. Why does this happen and how will you solve it?</em></p>
</blockquote>
<p>Let&rsquo;s run the file first and see what error we get exactly:
<img loading=lazy src=/static/2_python_imports/error.png alt=tree>
</p>
<p>Hmmm&mldr;</p>
<p><em>&ldquo;Oh, I know! There was this one time I found this StackOverflow answer that suggested me to use <code>python -m</code> instead of <code>python</code> and do this weird dot notation thing with the files. Well idk what any of this means, but it should work right?"</em>
<img loading=lazy src=/static/2_python_imports/voila.png alt=voila>
</p>
<p>Hmmmmmmmm&mldr;<br>
So what just happened?</p>
<p>My first thoughts after seeing the error were that it most likely had something to do with <code>PYTHONPATH</code>. That&rsquo;s the environment variable Python uses to look for modules and packages. The path stored in that variable is considered the <strong>root</strong> and everything below it in the directory structure is accessible. Everything above it is not.</p>
<p>Even if my hunch was correct, I needed a way to verify this. The interviewer suggested me to use the <code>sys</code> module and print out the contents of <code>PYTHONPATH</code> in both the cases.</p>
<p>Importing <code>sys</code> and adding a print statement for <code>sys.path</code>, we can notice something interesting between the two cases:
<img loading=lazy src=/static/2_python_imports/sys.png alt=sys>
</p>
<p>Well, my intuition was right.</p>
<p>You can execute Python files in 2 ways: either as scripts (<code>python script.py</code>) or as modules (<code>python -m package.module.func</code>).
Scripts are generally meant to be run and <strong>do something</strong> whereas modules are created for the purpose of <strong>importing them into other files</strong> and using them as libraries.</p>
<p>In the first case, Python only knows about the directory the script ran from. This means anything above that directly is inaccessible. Whereas in the second case, since Python traversed recursively through packages, all the way from the root directory to find the module we wanted it to run, it&rsquo;s aware of everything that lies below the root directory, and not just the directory the script ran from. This explains the <code>ModuleNotFound</code> perfectly.</p>
<p>So how do we fix this? We could simply run it as a module and call it a day.<br>
But what if we <em>really</em> want to run the file as a script? Well then, how about adding the path of the root directory to <code>PYTHONPATH</code>? This should allow Python to see module despite the file being run a script. Let&rsquo;s try it out:
<img loading=lazy src=/static/2_python_imports/import_200.png alt=import_200>
</p>
<p>And there we go! We can see that our newly exported path indeed shows up in the environment and now Python is able to find the function easily.</p>
<p>I&rsquo;m not sure situations would arise where one would have to do this in a professional setting. But I do believe it&rsquo;s a good way to explain the fundamental concept behind Python modules, packages and it&rsquo;s import system. A neat explanation of these terms can be found over at <a href=https://realpython.com/lessons/scripts-modules-packages-and-libraries/>Real Python</a>, a website I <strong>highly</strong> recommend to everyone for learning Python.</p>
<p>Till next time.
<img loading=lazy src=/static/2_python_imports/tillnexttime.gif alt=tnt>
</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://m0mosenpai.com/tags/python/>Python</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://m0mosenpai.com/>Blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>